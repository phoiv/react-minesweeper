(this.webpackJsonpminesweeper=this.webpackJsonpminesweeper||[]).push([[0],[,,function(e,t,n){e.exports={settings:"Settings_settings__2rE97",close:"Settings_close__1-Z6m",formrow:"Settings_formrow__2cziz",labels:"Settings_labels__OxeYk",custominput:"Settings_custominput__3aD2F"}},,,function(e,t,n){e.exports={square:"Square_square__zoit-",open:"Square_open__3qcbg",flagged:"Square_flagged__26LPI",color1:"Square_color1__2sXfm",color0:"Square_color0__3twC1",color2:"Square_color2__I1f2h",color3:"Square_color3__g0HDn",color4:"Square_color4__nUOhC",color5:"Square_color5__1fC4B",color6:"Square_color6__2B0fc",color7:"Square_color7__EaKIt","color-1":"Square_color-1__1Zs1I","color-2":"Square_color-2__kX-Vv","color-10":"Square_color-10__2Gxms"}},,,,,function(e,t,n){e.exports={minesweeperWrapper:"Minesweeper_minesweeperWrapper__1M_E4",minesweeper:"Minesweeper_minesweeper__21TTK"}},,,function(e,t,n){e.exports={gameHeader:"GameHeader_gameHeader__1ardf"}},function(e,t,n){e.exports={gameBoard:"GameBoard_gameBoard__NcE8K"}},,,,,,,,,function(e,t,n){},function(e,t,n){"use strict";n.r(t);var c=n(0),i=n(1),r=n.n(i),s=n(11),a=n.n(s),o=(n(23),n(7)),A=n(12),l=n(16),d=n(15),u=n(17),h=n(6),g=n(3),j=n(10),b=n.n(j),m=n(13),O=n.n(m),f=function(e){return Object(c.jsxs)("div",{className:O.a.gameHeader,children:[Object(c.jsx)("div",{children:e.minesLeft}),Object(c.jsxs)("div",{onClick:e.clicked,children:[" ",e.children]}),Object(c.jsx)("div",{children:e.time})]})},p=n(5),x=n.n(p),v="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAIAAAC0Ujn1AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAABESURBVEhL7cyxDQAwCANBkp4dGIv9J4kiufqaFJF8DcLFr+6ON266qvSNUjozNczZug84DU6D0+A0OA1Og9PgNPyYjjgvVQQ5em2ATAAAAABJRU5ErkJggg==",w={0:v,"-2":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAIAAAC0Ujn1AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAADYSURBVEhL1ZQxDsMgDEVJ1T1zb8ba2+UKPRELS2YqpW7tIiIbYloB7RNSDDGfrx+UyVpr2vCUvi4LzdSc55mqN/d1pSoC0jdjtgbjRCc0oE56oqeKn3FdhVYaosA0YnFIVjruF7XSRf4WyUrD7RFFU7ABOkVGZF32m5Lr7O6aG/HeO+dowhCNa12HEKhSs5OGw3FwLi9oIsH37qTjT+sD+N7un7HWuNjf3TWgN57rHOEarhHYKXvHBvGyAseBiAeki/wtog0kaqWiZUZk/T110sookH8MxJgHfqVIn5EC9pUAAAAASUVORK5CYII=","-1":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAIAAAC0Ujn1AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAADCSURBVEhL1ZSxEcMgDEVJenZgLHahZlYaNqCJcuh8DiDySQwkr7GE5e+PkH2z1qo5PKWNMZxdCktrrXnhOu58ncCYtHOOI4CfcT0EeoxFK7z3HMmIrg8tCgpd4rxY3830XEvPFEg72HGMoGVCqlzuujYSYwwhcFLRNI66TilxBPMyIXh/OxwD0x6+D95Rj+DyY0S+4zPN+uWuCdy4VLnDNQ0J2el7zwXSOE38X6PSmbwVTt6xo9ffMyaNd4P4x4Yo9QAlYEi7/8XtrgAAAABJRU5ErkJggg==","-10":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAIAAAC0Ujn1AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAEmSURBVEhLtZVbDoJADEXBf/bAsliLfONWcRdavZNmaG87hMeJwYzQM5dasZ+mqbuHn3ocx7K6lKIehqF8cB2P8n4DG/VznuVVFow5PWvKN+rXssgxt0egCgZgG3LM7r0C/xr9paYVS3WKeoVwQrQg6a9sEHmFbPhQ1mPB+PyP1Ctkwwcp6j34PNk4VKMPkb32Rh3LUgNvb+YFXG2C1HbqpcHbqcF7XeW4My/YTEgyZ4L2JFfryPPh83to3ih4/SMCuxpS63DUO0jg6jqCj+ntPrLQSB3d/p7soVqCRF6gdhpZCNXNB4iAs7jSw9X6PIsSATmLZxO1k+FTL5bAjKPZkpZYNb1IkQ2i+/CFm4bk3hxUwQBsr495ganN/mVOEg7feW5Td90XoWCJsH9xW9EAAAAASUVORK5CYII="},S=function(e){var t=[x.a.square],n=e.content,i="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAIAAAC0Ujn1AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAABdSURBVEhL7daxDcAwCERR4v0XYSdq5ggRli1dG667VyEXXxYVj7sbQUSsPY6qbmbOp7tbw11IPfXwU3cLZSFNaaA0UBooDZQGSgOlATG975Bzlwz6fs3olkXqmtkL3oUoY5R/mOIAAAAASUVORK5CYII=";null!=n&&(t.push(x.a["color".concat(n)],x.a.open),i=v,n<=0&&(i=w[n],n=""));var r={backgroundImage:"url(".concat(i,")")};return e.flagged&&(t.push(x.a.flagged),n="B"),Object(c.jsx)("div",{style:r,className:t.join(" "),onContextMenu:function(t){return e.right_clicked(t)},onClick:e.clicked,children:n})},_=n(14),E=n.n(_),C=function(e){for(var t={gridTemplateColumns:"repeat(".concat(e.width,", 1fr)"),gridTemplateRows:"repeat(".concat(e.height,", 1fr)"),cursor:"".concat(e.gameOver?"default":"pointer"),pointerEvents:"".concat(e.gameOver?"none":"auto")},n=[],i=function(t){n.push(Object(c.jsx)(S,{clicked:function(){return e.clicked(t)},right_clicked:function(n){return e.right_clicked(n,t)},content:e.board[t].isOpen?e.board[t].content:null,flagged:e.board[t].isFlagged},t))},r=0;r<e.height*e.width;r++)i(r);return Object(c.jsx)("div",{className:E.a.gameBoard,style:t,children:n})},N=n(2),U=n.n(N),I=function(e){return Object(c.jsxs)("div",{className:U.a.settings,children:[Object(c.jsx)("p",{onClick:e.clicked,className:U.a.close,children:"X"}),Object(c.jsxs)("div",{className:U.a.labels,children:[Object(c.jsx)("p",{children:"SETTINGS"}),Object(c.jsx)("p",{children:"width"}),Object(c.jsx)("p",{children:"height"}),Object(c.jsx)("p",{children:"mines"})]}),Object(c.jsxs)("form",{onSubmit:e.submitted,children:[Object(c.jsxs)("div",{className:U.a.formrow,children:[Object(c.jsxs)("div",{children:[Object(c.jsx)("input",{type:"radio",id:"beg",name:"setting",value:"beginner"}),Object(c.jsx)("label",{for:"beg",children:" Beginner"})]}),Object(c.jsx)("div",{children:"9"}),Object(c.jsx)("div",{children:"9"}),Object(c.jsx)("div",{children:"10"})]}),Object(c.jsxs)("div",{className:U.a.formrow,children:[Object(c.jsxs)("div",{children:[Object(c.jsx)("input",{type:"radio",id:"int",name:"setting",value:"intermediate"}),Object(c.jsx)("label",{for:"int",children:" Intermediate"})]}),Object(c.jsx)("div",{children:"16"}),Object(c.jsx)("div",{children:"16"}),Object(c.jsx)("div",{children:"40"})]}),Object(c.jsxs)("div",{className:U.a.formrow,children:[Object(c.jsxs)("div",{children:[Object(c.jsx)("input",{type:"radio",id:"exp",name:"setting",value:"expert"}),Object(c.jsx)("label",{for:"exp",children:" Expert"})]}),Object(c.jsx)("div",{children:"16"}),Object(c.jsx)("div",{children:"30"}),Object(c.jsx)("div",{children:"99"})]}),Object(c.jsxs)("div",{className:U.a.formrow,children:[Object(c.jsxs)("div",{children:[Object(c.jsx)("input",{type:"radio",id:"cus",name:"setting",value:"custom"}),Object(c.jsx)("label",{for:"cus",children:" custom"})]}),Object(c.jsx)("div",{children:Object(c.jsx)("input",{className:U.a.custominput,type:"text",name:"cW"})}),Object(c.jsx)("div",{children:Object(c.jsx)("input",{className:U.a.custominput,type:"text",name:"cH"})}),Object(c.jsx)("div",{children:Object(c.jsx)("input",{className:U.a.custominput,type:"text",name:"cM"})})]}),Object(c.jsx)("button",{type:"submit",children:"Submit"})]})]})},B={beginner:{width:9,height:9,mines:10},intermediate:{width:16,height:16,mines:40},expert:{width:16,height:30,mines:99},custom:[null,null,null]};var R=function(){var e=Object(i.useState)({width:12,height:10,mines:10}),t=Object(g.a)(e,2),n=t[0],r=t[1],s=Object(i.useState)((function(){return k(n.width,n.height,n.mines)})),a=Object(g.a)(s,2),o=a[0],A=a[1],l=Object(i.useState)("ready"),d=Object(g.a)(l,2),j=d[0],m=d[1],O=Object(i.useState)(0),p=Object(g.a)(O,2),x=p[0],v=p[1],w=Object(i.useState)(0),S=Object(g.a)(w,2),_=S[0],E=S[1],N=Object(i.useState)(0),U=Object(g.a)(N,2),R=U[0],q=U[1],D=Object(i.useState)(!1),F=Object(g.a)(D,2),V=F[0],y=F[1],Q=Object(i.useRef)(null),Y=n.width*n.height-n.mines;console.log("target===",Y),Object(i.useEffect)((function(){Q.current.addEventListener("contextmenu",(function(e){return L(e,null)}))}),[]),Object(i.useEffect)((function(){if("running"===j){var e=setInterval((function(){q((function(e){return e+1}))}),1e3);return function(){return clearInterval(e)}}}),[j]),Object(i.useEffect)((function(){x===Y&&function(){var e=Object(h.a)(o);e.forEach((function(e){-1===e.content&&(e.isFlagged=!0)})),A(e),m("won")}()}),[x]);var G,L=function(e,t){if(e.preventDefault(),console.log("RIGHT CLICKED",t),(t||0==t)&&!o[t].isOpen&&"won"!==j&&"lost"!==j){o[t].isFlagged&&E((function(e){return e-1})),o[t].isFlagged||E((function(e){return e+1}));var n=Object(h.a)(o);n[t].isFlagged=!n[t].isFlagged,A(n)}},M=0,P=function(){var e=k(n.width,n.height,n.mines);A(e),m("ready"),v(0),E(0),q(0)},X=function(){console.log("open settings"),y(!V)};return"lost"===j?G="GAME OVER":"ready"===j?G="LETS PLAY":"running"===j?G="PLAYING":"won"===j&&(G="YOU WIN"),Object(c.jsxs)("div",{className:b.a.minesweeperWrapper,children:[Object(c.jsxs)("div",{className:b.a.minesweeper,ref:Q,children:[Object(c.jsx)(f,{clicked:function(){V||(2==++M&&(M=0,X()),setTimeout((function(){1==M&&(P(),M=0)}),150))},time:R,minesLeft:n.mines-_,children:G}),Object(c.jsx)(C,{width:n.width,height:n.height,board:o,gameOver:"won"===j||"lost"===j,clicked:function e(t){if(!o[t].isFlagged)if(-1!==o[t].content){if("ready"===j&&m("running"),"won"!==j&&"lost"!==j){var n=Object(h.a)(o);n[t].isOpen=!0,A(n),v((function(e){return e+1})),0===n[t].content&&n[t].neighbours.forEach((function(t){n[t].isOpen||e(t)}))}}else!function(e){var t=Object(h.a)(o);t.forEach((function(e){-1!==e.content||e.isFlagged||(e.isOpen=!0),e.isFlagged&&-1!==e.content&&(e.isOpen=!0,e.isFlagged=!1,e.content=-10)})),t[e].content=-2,A(t),m("lost")}(t)},right_clicked:L})]}),V?Object(c.jsx)(I,{submitted:function(e){e.preventDefault();var t=e.target.elements.setting.value;if(""!==t){console.log("changing settings ==>",t);var n={};"custom"==t?(n.width=parseInt(e.target.elements.cW.value),(n.width!=n.width||n.width<5)&&(n.width=5),n.width=Math.min(30,n.width),n.height=parseInt(e.target.elements.cH.value),(n.height!=n.height||n.height<5)&&(n.height=5),n.height=Math.min(30,n.height),n.mines=parseInt(e.target.elements.cM.value),(n.mines!=n.mines||n.mines<5)&&(n.mines=5),n.mines>n.height*n.width&&(n.mines=n.height*n.width-1)):n=Object(u.a)({},B[t]),y(!1),console.log(n);var c=k(n.width,n.height,n.mines);A(c),r(n),m("ready"),v(0),E(0),q(0)}else y(!1)},clicked:function(){console.log("closing.."),y(!V)}}):null]})},q=function e(t){Object(o.a)(this,e),this.content=t,this.isOpen=!1,this.isFlagged=!1,this.neighbours=[]};function k(e,t,n){console.log("MAKING BOARD ".concat(e,"x").concat(t," with ").concat(n," mines"));for(var c=e*t,i=new Array(c).fill(null),r=0;r<c;r++){var s=new q(0);i[r]=s;var a=[];r>=e&&r%e!==0&&a.push(r-e-1),r>=e&&a.push(r-e),r>=e&&r%e!==e-1&&a.push(r-e+1),r%e!==e-1&&a.push(r+1),r<c-e&&r%e!==e-1&&a.push(r+e+1),r<c-e&&a.push(r+e),r<c-e&&r%e!==0&&a.push(r+e-1),r%e!==0&&a.push(r-1),s.neighbours=a}for(var o=1;o<=n;){var A=Math.floor(Math.random()*c);-1!==i[A].content&&(i[A].content=-1,i[A].neighbours.forEach((function(e){-1!==i[e].content&&i[e].content++})),o++)}return i}var D=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(A.a)(n,[{key:"render",value:function(){return Object(c.jsx)("main",{style:{height:"100vh",width:"100vw",display:"flex",alignItems:"center"},children:Object(c.jsx)(R,{})})}}]),n}(i.Component),F=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,25)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),c(e),i(e),r(e),s(e)}))};a.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(D,{})}),document.getElementById("root")),F()}],[[24,1,2]]]);
//# sourceMappingURL=main.07ba2553.chunk.js.map